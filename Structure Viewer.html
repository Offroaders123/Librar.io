<!DOCTYPE html>
<html lang="en-US">

<head>

<title>Structure Viewer</title>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1">

<style>
  *, *::before, *::after {
    box-sizing: border-box;
  }
  body {
    font-family: sans-serif;
  }
</style>

</head>

<body>

<!-- WebkitDirectory testing -->
<!--script>
const body = document.body;
let directory;

const legacyOpener = document.createElement("input");
legacyOpener.type = "file";
legacyOpener.setAttribute("webkitdirectory","");
legacyOpener.setAttribute("autofocus","");
body.appendChild(legacyOpener);

legacyOpener.addEventListener("change",event => {
  directory = event.target.files;
  console.log(directory);
});
</script-->

<script type="module">
const body = document.body;

document.addEventListener("dragover",event => event.preventDefault());
document.addEventListener('drop', async (e) => {console.log("Item dropped!");
  e.preventDefault();

  const fileHandlesPromises = [...e.dataTransfer.items]
    .filter((item) => item.kind === 'file')
    .map((item) => item.getAsFileSystemHandle());

  for await (const handle of fileHandlesPromises) {
    if (handle.kind === 'directory') {
      console.log(`Directory: ${handle.name}`);
    } else {
      console.log(`File: ${handle.name}`);
    }
  }
});
</script>

</body>

</html>